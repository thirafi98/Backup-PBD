CREATE TABLE FILM_1301164069
  (
    id_film  VARCHAR2 (10) NOT NULL ,
    judul    VARCHAR2 (50) ,
    durasi   VARCHAR2 (10) ,
    tahun    NUMBER ,
    sinopsis VARCHAR2 (2000)
  ) ;
ALTER TABLE FILM_1301164069 ADD CONSTRAINT Film_PK PRIMARY KEY ( id_film ) ;

CREATE TABLE TEATER_1301164069
  (
    nomor_teater VARCHAR2 (10) NOT NULL ,
    kelas        VARCHAR2 (10) ,
    harga        NUMBER ,
    kapasitas    NUMBER
  ) ;
ALTER TABLE TEATER_1301164069 ADD CONSTRAINT Teater_PK PRIMARY KEY ( nomor_teater ) ;

CREATE TABLE JadwalTayang_1301164069
  (
    id_jadwalTayang VARCHAR2 (10) NOT NULL ,
    id_film         VARCHAR2 (10) NOT NULL ,
    nomor_teater    VARCHAR2 (10) NOT NULL ,
    periode_start   DATE ,
    periode_end     DATE
  ) ;
ALTER TABLE JadwalTayang_1301164069 ADD CONSTRAINT JadwalTayang_PK PRIMARY KEY ( id_jadwalTayang ) ;


CREATE TABLE Kursi_1301164069
  (
    no_inventori VARCHAR2 (5) NOT NULL ,
    nomor_teater VARCHAR2 (10) NOT NULL,
	no_kursi     VARCHAR2 (5)
  ) ;
ALTER TABLE Kursi_1301164069 ADD CONSTRAINT Kursi_PK PRIMARY KEY ( no_inventori ) ;


CREATE TABLE Member_1301164069
  (
    id_member   VARCHAR2 (10) NOT NULL ,
    nama_member VARCHAR2 (30) ,
    no_hp       VARCHAR2 (13) ,
    email       VARCHAR2 (50) ,
    tgl_lahir   DATE
  ) ;
ALTER TABLE Member_1301164069 ADD CONSTRAINT Member_PK PRIMARY KEY ( id_member ) ;


CREATE TABLE Orderfilm_1301164069
  (
    id_order        VARCHAR2 (10) NOT NULL ,
    id_member       VARCHAR2 (10) NOT NULL ,
    id_jadwalTayang VARCHAR2 (10) NOT NULL ,
    no_inventori    VARCHAR2 (5) NOT NULL ,
    tanggal         DATE ,
    status          VARCHAR2 (10)
  ) ;
ALTER TABLE Orderfilm_1301164069 ADD CONSTRAINT Order_PK PRIMARY KEY ( id_order ) ;





ALTER TABLE JadwalTayang_1301164069 ADD CONSTRAINT JadwalTayang_Film_FK FOREIGN KEY ( id_film ) REFERENCES Film_1301164069 ( id_film ) ;

ALTER TABLE JadwalTayang_1301164069 ADD CONSTRAINT JadwalTayang_Teater_FK FOREIGN KEY ( nomor_teater ) REFERENCES Teater_1301164069 ( nomor_teater ) ;

ALTER TABLE Kursi_1301164069 ADD CONSTRAINT Kursi_Teater_FK FOREIGN KEY ( nomor_teater ) REFERENCES Teater_1301164069 ( nomor_teater ) ;

ALTER TABLE Orderfilm_1301164069 ADD CONSTRAINT Order_JadwalTayang_FK FOREIGN KEY ( id_jadwalTayang ) REFERENCES JadwalTayang_1301164069 ( id_jadwalTayang ) ;

ALTER TABLE Orderfilm_1301164069 ADD CONSTRAINT Order_Kursi_FK FOREIGN KEY ( no_inventori ) REFERENCES Kursi_1301164069 ( no_inventori ) ;

ALTER TABLE Orderfilm_1301164069 ADD CONSTRAINT Order_Member_FK FOREIGN KEY ( id_member ) REFERENCES Member_1301164069 ( id_member ) ;

select * from film_1301164069 where durasi='96';
select * from orderfilm_1301164069;
select * from Member_1301164069;
select * from jadwaltayang_1301164069;
select * from TEATER_1301164069;
select * from kursi_1301164069;

select NOMOR_TEATER, KELAS, HARGA-HARGA*0.1, KAPASITAS from TEATER_1301164069;

SELECT MEMBER_1301164069.NAMA_MEMBER, FILM_1301164069.JUDUL FROM FILM_1301164069, MEMBER_1301164069 WHERE ID_MEMBER = 'MM0111';


SELECT MEMBER_1301164069.NAMA_MEMBER, FILM_1301164069.JUDUL FROM ORDERFILM_1301164069, FILM_1301164069, MEMBER_1301164069, JADWALTAYANG_1301164069 WHERE ORDERFILM_1301164069.ID_MEMBER = 'MM0111' AND FILM_1301164069.ID_FILM = JADWALTAYANG_1301164069.ID_FILM AND MEMBER_1301164069.ID_MEMBER = ORDERFILM_1301164069.ID_MEMBER AND ORDERFILM_1301164069.ID_JADWALTAYANG = JADWALTAYANG_1301164069.ID_JADWALTAYANG;

SELECT NOMOR_TEATER, SUM(HARGA) FROM TEATER_1301164069, ORDERFILM_1301164069 GROUP BY NOMOR_TEATER;